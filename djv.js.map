{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///djv.js","webpack:///webpack/bootstrap b8fb024d57e124e89aa7","webpack:///./lib/utils/index.js","webpack:///./lib/utils/template.js","webpack:///./lib/utils/formats.js","webpack:///./lib/djv.js","webpack:///./lib/utils/state.js","webpack:///./lib/validators/index.js","webpack:///./lib/validators/required.js","webpack:///./lib/validators/format.js","webpack:///./lib/validators/property.js","webpack:///./lib/utils/properties.js","webpack:///./lib/utils/keywords.js","webpack:///./lib/validators/type.js","webpack:///./lib/utils/types.js","webpack:///./lib/validators/$ref.js","webpack:///./lib/validators/not.js","webpack:///./lib/validators/anyOf.js","webpack:///./lib/validators/oneOf.js","webpack:///./lib/validators/allOf.js","webpack:///./lib/validators/dependencies.js","webpack:///./lib/validators/properties.js","webpack:///./lib/validators/patternProperties.js","webpack:///./lib/validators/items.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","cleanId","id","replace","asExpression","fn","schema","tpl","head","uri","split","REGEXP_URI_FRAGMENT","isFullUri","REGEXP_URI","test","path","REGEXP_URI_PATH","fragment","makePath","parts","filter","part","reduce","length","indexOf","sharpUriIndex","slice","partialUri","hasProperty","_typeof","normalize","decodeURIComponent","descent","parentSchema","uriFragment","map","definitions","Symbol","iterator","obj","constructor","_toConsumableArray","arr","Array","isArray","arr2","from","template","state","options","expression","_len","arguments","args","_key","last","lines","push","match","index","shift","dataToString","join","error","errorHandler","errorType","data","assign","cachedIndex","cached","cache","layer","resolve","url","link","visit","pop","toString","restore","source","_ref","undefined","inner","Function","body","_ref2","dynamicVariables","errors","dynamicFunctions","value","context","functions","references","forEach","concat","alpha","alphanumeric","identifier","hexadecimal","numeric","date-time","uppercase","lowercase","hostname","email","ipv4","ipv6","_defineProperty","key","writable","Environment","resolved","State","addFormat","formats","_require","_require2","_require3","generate","validate","addSchema","_this","realSchema","removeSchema","export","_this2","keys","JSON","stringify","import","config","_this3","item","parse","restoreData","_restoreData$key","formatter","setErrorHandler","env","resolution","entries","Map","validators","list","create","addEntry","entry","set","revealReference","addReference","schemaIndex","doubled","getResolvedSchema","cleanPath","foundResolvedIndex","reverse","find","ascend","reference","indexOfParent","Math","max","parentSchemaPath","resolvedSchema","ref","$ref","parent","initialStateLength","initialResolutionLength","validator","required","format","type","not","anyOf","oneOf","allOf","dependencies","properties","patternProperties","items","condition","keywords","readOnly","minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf","pattern","modifiers","RegExp","minLength","maxLength","minItems","maxItems","uniqueItems","minProperties","maxProperties","constant","v","enum","$1","comparedValue","types","null","string","boolean","number","integer","array","date","fns","cachedArr","cachedIterator","count","cachedCount","dependency","propertyKey","propertySchema","isNotRequired","hasAdditionalProperties","additionalProperties","hasPatternProperties","visitAdditionalProperties","additionalItems","subSchema"],"mappings":"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","file":"djv.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"djv\"] = factory();\n\telse\n\t\troot[\"djv\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"djv\"] = factory();\n\telse\n\t\troot[\"djv\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @module utils\n * @description\n * Contains small utilities for djv project\n */\n\nvar REGEXP_URI = /:\\/\\//;\nvar REGEXP_URI_FRAGMENT = /#\\/?/;\nvar REGEXP_URI_PATH = /(^[^:]+:\\/\\/.*\\/).*/;\n\nfunction cleanId(id) {\n  return (id || '').replace(/#/g, '');\n}\n\nfunction asExpression(fn, schema, tpl) {\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  return fn(schema, tpl);\n}\n\nfunction head(uri) {\n  if (typeof uri !== 'string') {\n    return uri;\n  }\n\n  var parts = uri.split(REGEXP_URI_FRAGMENT);\n  return parts[0];\n}\n\nfunction isFullUri(uri) {\n  return REGEXP_URI.test(uri);\n}\n\n/**\n * @name path\n * @type {function}\n * @description\n * Gets a scheme, domain and a path part from the uri\n * F.e. from http://domain.domain:2020/test/a?test\n * Should pick http://domain.domain:2020/test/\n * @param {string} uri\n * @returns {string} path\n */\nfunction path(uri) {\n  return uri.replace(REGEXP_URI_PATH, '$1');\n}\n\n/**\n * @description\n * Get the fragment (#...) part of the uri\n * @see https://tools.ietf.org/html/rfc3986#section-3\n * @param {string} uri\n * @returns {string} fragment\n */\nfunction fragment(uri) {\n  if (typeof uri !== 'string') {\n    return uri;\n  }\n\n  var parts = uri.split(REGEXP_URI_FRAGMENT);\n  return parts[1];\n}\n\n/**\n * @name makePath\n * @type function\n * @description\n * Concat parts into single uri\n * @see https://tools.ietf.org/html/rfc3986#section-3\n * @param {array[string]} parts\n * @returns {string} uri\n */\nfunction makePath(parts) {\n  return parts.filter(function (part) {\n    return typeof part === 'string';\n  }).reduce(function (uri, id) {\n    if (!uri.length) {\n      return id;\n    }\n\n    // if id is full replace uri\n    if (isFullUri(id)) {\n      return id;\n    }\n\n    // if fragment found\n    if (id.indexOf('#') === 0) {\n      // should replace uri's sharp with id\n      var sharpUriIndex = uri.indexOf('#');\n      return uri.slice(0, sharpUriIndex) + id;\n    }\n\n    // get path part of uri\n    // and replace the rest with id\n    var partialUri = path(uri) + id;\n    return partialUri + (partialUri.indexOf('#') === -1 ? '#' : '');\n  }, '');\n}\n\nfunction hasProperty(object, property) {\n  return (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && Object.prototype.hasOwnProperty.call(object, property);\n}\n\nfunction normalize(uri) {\n  return decodeURIComponent(uri.replace(/~1/g, '/').replace(/~0/g, '~'));\n}\n\nfunction descent(uri, parentSchema) {\n  var uriFragment = fragment(uri);\n  if (!uriFragment && isFullUri(uri)) {\n    return parentSchema;\n  }\n\n  if (!uriFragment) {\n    uriFragment = uri;\n  }\n\n  var parts = uriFragment.split('/');\n  var currentSchema = parts.map(normalize).reduce(function (schema, part) {\n    return schema[part] || schema.definitions && schema.definitions[part];\n  }, parentSchema);\n\n  return currentSchema || parentSchema;\n}\n\nmodule.exports = {\n  cleanId: cleanId,\n  asExpression: asExpression,\n  hasProperty: hasProperty,\n  // TODO move to utils/uri\n  makePath: makePath,\n  isFullUri: isFullUri,\n  head: head,\n  fragment: fragment,\n  descent: descent\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * @module template\n * @description\n * Defines a small templater functionality for creating functions body.\n */\n\n/**\n * @name template\n * @type function\n * @description\n * Provides a templater function, which adds a line of code into generated function body.\n *\n * @param {object} state - used in visit and reference method to iterate and find schemas.\n * @param {DjvConfig} options\n * @return {function} tpl\n */\nfunction template(state, options) {\n  function tpl(expression) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var last = void 0;\n\n    tpl.lines.push(expression.replace(/%i/g, function () {\n      return 'i';\n    }).replace(/\\$(\\d)/g, function (match, index) {\n      return '' + args[index - 1];\n    }).replace(/(%[sd])/g, function () {\n      if (args.length) {\n        last = args.shift();\n      }\n\n      return '' + last;\n    }));\n\n    return tpl;\n  }\n\n  var error = typeof options.errorHandler === 'function' ? options.errorHandler : function defaultErrorHandler(errorType) {\n    return 'return \"' + errorType + ': ' + tpl.data + '\";';\n  };\n\n  Object.assign(tpl, {\n    cachedIndex: 0,\n    cached: [],\n    cache: function cache(expression) {\n      var layer = tpl.cached[tpl.cached.length - 1];\n      if (layer[expression]) {\n        return 'i' + layer[expression];\n      }\n\n      tpl.cachedIndex += 1;\n      layer[expression] = tpl.cachedIndex;\n      return '(i' + layer[expression] + ' = ' + expression + ')';\n    },\n\n    data: ['data'],\n    error: error,\n    lines: [],\n    push: tpl,\n    resolve: function resolve(url) {\n      return 'f' + state.link(url);\n    },\n\n    schema: ['schema'],\n    visit: function visit(schema) {\n      tpl.cached.push({});\n      state.visit(schema, tpl);\n      tpl.cached.pop();\n    }\n  });\n\n  function dataToString() {\n    return this.join('.').replace(/\\.\\[/g, '[');\n  }\n  tpl.data.toString = dataToString;\n  tpl.schema.toString = dataToString;\n\n  return tpl;\n}\n\n/**\n * @name restore\n * @type function\n * @description\n * Generate a function by given body with a schema in a closure\n *\n * @param {string} source - function inner & outer body\n * @param {object} schema - passed as argument to meta function\n * @param {DjvConfig} config\n * @return {function} tpl\n */\nfunction restore(source, schema) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      inner = _ref.inner;\n\n  /* eslint-disable no-new-func */\n  var tpl = new Function('schema', source)(schema);\n  /* eslint-enable no-new-func */\n\n  if (!inner) {\n    tpl.toString = function toString() {\n      return source;\n    };\n  }\n\n  return tpl;\n}\n\n/**\n * @name body\n * @type function\n * @description\n * Generate a function body, containing internal variables and helpers\n *\n * @param {object} tpl - template instance, containing all analyzed schema related data\n * @param {object} state - state of schema generation\n * @param {DjvConfig} config\n * @return {string} body\n */\nfunction body(tpl, state) {\n  var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      inner = _ref2.inner,\n      errorHandler = _ref2.errorHandler;\n\n  var dynamicVariables = '';\n  var errors = '';\n  var dynamicFunctions = '';\n\n  if (tpl.cachedIndex) {\n    // @see map array with holes trick\n    // http://2ality.com/2013/11/initializing-arrays.html\n    // TODO change var to const\n    dynamicVariables = 'var i' + Array.apply(undefined, _toConsumableArray(Array(tpl.cachedIndex))).map(function (value, i) {\n      return i + 1;\n    }).join(',i') + ';';\n  }\n  if (errorHandler) {\n    /**\n     * @var {array} errors - empty array for pushing errors ability\n     * @see errorHandler\n     */\n    dynamicVariables += 'var errors = [];';\n    errors = 'if(errors.length) return errors;';\n  }\n\n  if (!inner && state.context.length) {\n    var functions = [];\n    var references = [];\n    state.context.forEach(function (value, i) {\n      if (typeof value === 'number') {\n        references.push(i + 1 + '=f' + value);\n        return;\n      }\n      functions.push(i + 1 + '=' + value);\n    });\n    dynamicFunctions = 'var f' + functions.concat(references).join(',f') + ';';\n  }\n\n  var source = dynamicFunctions + '\\n    function f0(data){\\n      \"use strict\";\\n      ' + dynamicVariables + '\\n      ' + tpl.lines.join('\\n') + '\\n      ' + errors + '\\n    }\\n    return f0;';\n\n  return source;\n}\n\nmodule.exports = {\n  body: body,\n  restore: restore,\n  template: template\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * @module formats\n * @description\n * Validators as string for format keyword rules.\n * A validator is a string, which when executed returns `false` if test is failed, `true` otherwise.\n */\nmodule.exports = {\n  alpha: '!/^[a-zA-Z]+$/.test(%s)',\n  alphanumeric: '!/^[a-zA-Z0-9]+$/.test(%s)',\n  identifier: '!/^[-_a-zA-Z0-9]+$/.test(%s)',\n  hexadecimal: '!/^[a-fA-F0-9]+$/.test(%s)',\n  numeric: '!/^[0-9]+$/.test(%s)',\n  'date-time': 'isNaN(Date.parse(%s)) || ~%s.indexOf(\\'/\\')',\n  uppercase: '%s !== %s.toUpperCase()',\n  lowercase: '%s !== %s.toLowerCase()',\n  hostname: '%s.length >= 256 || !/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,61}[a-zA-Z0-9])(\\\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,61}[a-zA-Z0-9]))*$/.test(%s)',\n  uri: '!/[-a-zA-Z0-9@:%_\\\\+.~#?&//=]{2,256}\\\\.[a-z]{2,4}\\\\b(\\\\/[-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)?/.test(%s)',\n  email: '!/^[^@]+@[^@]+\\\\.[^@]+$/.test(%s)',\n  ipv4: '!/^(\\\\d?\\\\d?\\\\d){0,255}\\\\.(\\\\d?\\\\d?\\\\d){0,255}\\\\.(\\\\d?\\\\d?\\\\d){0,255}\\\\.(\\\\d?\\\\d?\\\\d){0,255}$/.test($1) || $1.split(\".\")[3] > 255',\n  ipv6: '!/^((?=.*::)(?!.*::.+::)(::)?([\\\\dA-F]{1,4}:(:|\\\\b)|){5}|([\\\\dA-F]{1,4}:){6})((([\\\\dA-F]{1,4}((?!\\\\3)::|:\\\\b|$))|(?!\\\\2\\\\3)){2}|(((2[0-4]|1\\\\d|[1-9])?\\\\d|25[0-5])\\\\.?\\\\b){4})$/.test(%s)'\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(4);\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = __webpack_require__(0),\n    cleanId = _require.cleanId;\n\nvar _require2 = __webpack_require__(1),\n    restore = _require2.restore;\n\nvar formats = __webpack_require__(2);\n\nvar _require3 = __webpack_require__(5),\n    generate = _require3.generate,\n    State = _require3.State;\n\n/**\n * Configuration for template\n * @typedef {object} DjvConfig\n * @property {boolean?} inner - a generating object should be considered as inner\n * Default value is false/undefined.\n * If true, then it avoid creating variables in a generated function body,\n * however without proper wrapper function approach will not work.\n * @see template/body, template/body\n * @property {object?} formats - an object containing list of formatters to add for environment\n * @property {function?} errorHandler - a handler to use for generating custom error messages\n */\n\n/**\n * @name Environment\n * @description\n * Key constructor used for creating enivornment instance\n * @type {function} constructor\n * @param {DjvConfig} options passed to templater and utilities\n *\n * Usage\n *\n * ```javascript\n * const env = djv();\n * const env = new djv();\n * const env = new djv({ errorHandler: () => ';' });\n * ```\n */\n\n\nfunction Environment() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!(this instanceof Environment)) {\n    return new Environment(options);\n  }\n\n  this.options = options;\n  this.resolved = {};\n  this.state = new State(null, this);\n\n  this.addFormat(options.formats);\n}\n\nEnvironment.prototype = {\n  /**\n   * check if object correspond to schema\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.validate('test#/common', { type: 'common' });\n   * // => undefined\n   *\n   * env.validate('test#/common', { type: 'custom' });\n   * // => 'required: data'\n   *\n   * @param {string} name\n   * @param {object} object\n   * @returns {string} error - undefined if it is valid\n   */\n  validate: function validate(name, object) {\n    return this.resolve(name).fn(object);\n  },\n\n\n  /**\n   * add schema to djv environment\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.addSchema('test', jsonSchema);\n   * ```\n   *\n   * @param {string?} name\n   * @param {object} schema\n   * @param {object} schema\n   * @returns {resolved}\n   */\n  addSchema: function addSchema(name, schema) {\n    var _this = this;\n\n    var realSchema = (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object' ? name : schema;\n    var resolved = {\n      schema: realSchema,\n      fn: generate(this, realSchema, undefined, this.options)\n    };\n\n    [name, schema.id].filter(function (id) {\n      return typeof id === 'string';\n    }).map(cleanId).forEach(function (id) {\n      _this.resolved[id] = Object.assign({ name: id }, resolved);\n    });\n\n    return resolved;\n  },\n\n\n  /**\n   * removes a schema or the whole structure from djv environment\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.removeSchema('test');\n   * ```\n   *\n   * @param {string} name\n   */\n  removeSchema: function removeSchema(name) {\n    if (name) {\n      delete this.resolved[name];\n    } else {\n      this.resolved = {};\n    }\n  },\n\n\n  /**\n   * resolves name by existing environment\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.resolve('test');\n   * // => { name: 'test', schema: {} }, fn: ... }\n   * ```\n   *\n   * @param {string} name\n   * @returns {resolved}\n   */\n  resolve: function resolve(name) {\n    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object' || !this.resolved[name]) {\n      return this.addSchema(name, this.state.resolve(name));\n    }\n\n    return this.resolved[name];\n  },\n\n\n  /**\n   * exports the whole structure object from environment or by resolved name\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.export();\n   * // => { test: { name: 'test', schema: {}, ... } }\n   * ```\n   *\n   * @param {string} name\n   * @returns {serializedInternalState}\n   */\n  export: function _export(name) {\n    var _this2 = this;\n\n    var resolved = void 0;\n    if (name) {\n      resolved = this.resolve(name);\n      resolved = {\n        name: name,\n        schema: resolved.schema,\n        fn: resolved.fn.toString()\n      };\n    } else {\n      resolved = {};\n      Object.keys(this.resolved).forEach(function (key) {\n        resolved[key] = {\n          name: key,\n          schema: _this2.resolved[key].schema,\n          fn: _this2.resolved[key].fn.toString()\n        };\n      });\n    }\n\n    return JSON.stringify(resolved);\n  },\n\n\n  /**\n   * imports all found structure objects to internal environment structure\n   * Usage\n   *\n   * ```javascript\n   * env.import(config);\n   * ```\n   *\n   * @param {object} config - internal structure or only resolved schema object\n   */\n  import: function _import(config) {\n    var _this3 = this;\n\n    var item = JSON.parse(config);\n    var restoreData = item;\n    if (item.name && item.fn && item.schema) {\n      restoreData = _defineProperty({}, item.name, item);\n    }\n\n    Object.keys(restoreData).forEach(function (key) {\n      var _restoreData$key = restoreData[key],\n          name = _restoreData$key.name,\n          schema = _restoreData$key.schema,\n          source = _restoreData$key.fn;\n\n      var fn = restore(source, schema, _this3.options);\n      _this3.resolved[name] = { name: name, schema: schema, fn: fn };\n    });\n  },\n\n\n  /**\n   * @name addFormat\n   * @type function\n   * @description\n   * Add formatter to djv environment.\n   * When a string is passed it is interpreted as an expression which\n   * when returns `true` goes with an error, when returns `false` then a property is valid.\n   * When a function is passed it will be executed during schema compilation\n   * with a current schema and template helper arguments.\n   * @see utils/formats\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.addFormat('UpperCase', '%s !== %s.toUpperCase()');\n   * // or\n   * env.addFormat('isOk', function(schema, tpl){\n   *   return `!${schema.isOk} || %s !== %s.toUpperCase()`;\n   * });\n   * ```\n   *\n   * @param {string/object?} name\n   * @param {string/function} formatter\n   */\n  addFormat: function addFormat(name, formatter) {\n    if (typeof name === 'string') {\n      formats[name] = formatter;\n      return;\n    }\n\n    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n      Object.assign(formats, name);\n    }\n  },\n\n\n  /**\n   * @name setErrorHandler\n   * @type function\n   * @description\n   * Specify custom error handler which will be used in generated functions when problem found.\n   * The function should return a string expression, which will be executed when generated\n   * validator function is executed. The simpliest use case is the default one\n   * @see template/defaultErrorHandler\n   * ```javascript\n   *  function defaultErrorHandler(errorType) {\n   *    return `return \"${errorType}: ${tpl.data}\";`;\n   *  }\n   * ```\n   * It returns an expression 'return ...', so the output is an error string.\n   * Usage\n   * ```javascript\n   * djv({ errorHandler: () => 'return { error: true };' }) // => returns an object\n   * djv({\n   *  errorHandler: function customErrorHandler(errorType, property) {\n   *    return `errors.push({\n   *      type: '${type}',\n   *      schema: '${this.schema[this.schema.length - 1]}',\n   *      data: '${this.data[this.data.length - 1]}'\n   *    });\n   *  }\n   * })`;\n   * ```\n   * When a custom error handler is used, the template body function adds a `error` variable inside\n   * a generated validator, which can be used to put error information. `errorType` is always\n   * passed to error handler function. Some validate utilities put extra argument, like f.e.\n   * currently processed property value. Inside the handler context is a templater instance,\n   * which contains `this.schema`, `this.data` paths arrays to identify validator position.\n   * @see test/index/setErrorHandler for more examples\n   * @param {function} errorHandler - a function called each time compiler creates an error branch\n   */\n  setErrorHandler: function setErrorHandler(errorHandler) {\n    Object.assign(this.options, { errorHandler: errorHandler });\n  }\n};\n\nmodule.exports = Environment;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _require = __webpack_require__(6),\n    validators = _require.list;\n\nvar _require2 = __webpack_require__(1),\n    body = _require2.body,\n    restore = _require2.restore,\n    template = _require2.template;\n\nvar _require3 = __webpack_require__(0),\n    descent = _require3.descent,\n    makePath = _require3.makePath,\n    head = _require3.head,\n    isFullUri = _require3.isFullUri,\n    hasProperty = _require3.hasProperty,\n    cleanId = _require3.cleanId;\n\nfunction State() {\n  var schema = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var env = arguments[1];\n\n  Object.assign(this, {\n    resolution: [0],\n    context: [],\n    entries: new Map(),\n    env: env\n  });\n\n  this.push(schema);\n}\n\nfunction generate(env, schema) {\n  var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new State(schema, env);\n  var options = arguments[3];\n\n  var tpl = template(state, options);\n  tpl.visit(schema);\n\n  var source = body(tpl, state, options);\n  return restore(source, schema, options);\n}\n\nState.prototype = Object.assign(Object.create(Array.prototype), {\n  // template related methods\n  addEntry: function addEntry(url, schema) {\n    if ((typeof schema === 'undefined' ? 'undefined' : _typeof(schema)) !== 'object') {\n      return schema;\n    }\n\n    var options = { inner: true };\n    var entry = this.entries.get(schema) || generate(this.env, schema, this, options);\n    this.entries.set(schema, entry);\n    this.revealReference(url);\n\n    return this.context.push(entry);\n  },\n  addReference: function addReference(url, schema) {\n    var schemaIndex = this.indexOf(schema);\n    // reference to itself\n    if (schemaIndex === 0) {\n      return this.context.push(0);\n    }\n    if (schemaIndex !== -1 && schemaIndex !== this.length - 1) {\n      // has already been added to process queue\n      return this.context.push(url);\n    }\n    return false;\n  },\n  revealReference: function revealReference(url) {\n    for (var doubled = this.context.indexOf(url); doubled !== -1; doubled = this.context.indexOf(url)) {\n      this.context[doubled] = this.context.length;\n    }\n  },\n  link: function link(url) {\n    var schema = this.resolve(url);\n    var entry = this.addReference(url, schema) || this.addEntry(url, schema);\n\n    return entry;\n  },\n\n  // pure scope resolution methods\n  push: function push(schema) {\n    // if schema id is partial\n    // it should be resolved against the closest parent(s)\n    // so only valid URIs added to resolution\n    if (schema && schema.id && this.length && isFullUri(schema.id)) {\n      this.resolution.push(this.length);\n    }\n\n    Array.prototype.push.call(this, schema);\n  },\n  getResolvedSchema: function getResolvedSchema(path) {\n    var _this = this;\n\n    if (hasProperty(this.env.resolved, path)) {\n      return this.env.resolved[path].schema;\n    }\n\n    var cleanPath = cleanId(path);\n    if (hasProperty(this.env.resolved, cleanPath)) {\n      return this.env.resolved[cleanPath].schema;\n    }\n\n    if (cleanPath) {\n      var foundResolvedIndex = this.resolution.reverse().find(function (index) {\n        return _this[index].id && (_this[index].id === cleanPath || _this[index].id === path);\n      });\n\n      if (typeof foundResolvedIndex !== 'undefined') {\n        return this[foundResolvedIndex];\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * @name ascend\n   * @type {function}\n   * @description\n   * Search for a parent schema by reference.\n   * Iterates over the chain of schemas.\n   * @param {string} reference\n   * @returns {object} parentSchema\n   */\n  ascend: function ascend(reference) {\n    var indexOfParent = Math.max(this.resolution[this.resolution.length - 1], 1);\n\n    var parentSchemaPath = head(reference);\n    var parentSchema = this[indexOfParent];\n\n    if (parentSchemaPath && this.length > 1 && !isFullUri(reference)) {\n      parentSchemaPath = makePath(this.slice(indexOfParent).map(function (_ref) {\n        var id = _ref.id;\n        return id;\n      }).concat(parentSchemaPath));\n    }\n\n    var resolvedSchema = this.getResolvedSchema(parentSchemaPath);\n    if (!parentSchema || resolvedSchema) {\n      parentSchema = resolvedSchema;\n    }\n\n    // try to resolve it against environment\n    if (hasProperty(parentSchema, '$ref')) {\n      var ref = head(parentSchema.$ref);\n      if (ref !== '#' && this.getResolvedSchema(ref)) {\n        parentSchema = this.getResolvedSchema(ref);\n      }\n    }\n\n    this.push(parentSchema);\n    return parentSchema;\n  },\n  resolve: function resolve(reference) {\n    if (reference === '#') {\n      return 0;\n    }\n    if (typeof reference !== 'string') {\n      return reference;\n    }\n\n    var parent = this.ascend(reference);\n    var resolved = descent(reference, parent);\n\n    return resolved;\n  },\n  visit: function visit(schema, tpl) {\n    var initialStateLength = this.length;\n    var initialResolutionLength = this.resolution.length;\n    this.push(schema);\n\n    validators.forEach(function (validator) {\n      return validator(schema, tpl);\n    });\n\n    this.length = initialStateLength;\n    this.resolution.length = initialResolutionLength;\n  }\n});\n\nmodule.exports = {\n  State: State,\n  generate: generate\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * @module validators\n * @description\n * Contains validators functions links\n * Provides an information about the order in which validators should be applied\n */\nvar required = __webpack_require__(7);\nvar format = __webpack_require__(8);\nvar property = __webpack_require__(9);\nvar type = __webpack_require__(12);\nvar $ref = __webpack_require__(14);\nvar not = __webpack_require__(15);\nvar anyOf = __webpack_require__(16);\nvar oneOf = __webpack_require__(17);\nvar allOf = __webpack_require__(18);\nvar dependencies = __webpack_require__(19);\nvar properties = __webpack_require__(20);\nvar patternProperties = __webpack_require__(21);\nvar items = __webpack_require__(22);\n\nmodule.exports = {\n  name: {\n    required: required,\n    format: format,\n    property: property,\n    type: type,\n    $ref: $ref,\n    not: not,\n    anyOf: anyOf,\n    oneOf: oneOf,\n    allOf: allOf,\n    dependencies: dependencies,\n    properties: properties,\n    patternProperties: patternProperties,\n    items: items\n  },\n  list: [required, format, property, type, $ref, not, anyOf, oneOf, allOf, dependencies, properties, patternProperties, items]\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function required(schema, tpl) {\n  if (!Array.isArray(schema.required)) {\n    return;\n  }\n\n  tpl('if (typeof %s === \\'object\\') {', tpl.data);\n  schema.required.forEach(function (name) {\n    var condition = '!%s.hasOwnProperty(\"%s\")';\n    var error = tpl.error('required', name);\n\n    tpl('if (' + condition + ') ' + error, tpl.data, name);\n  });\n  tpl('}');\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar formats = __webpack_require__(2);\n\nvar _require = __webpack_require__(0),\n    asExpression = _require.asExpression;\n\nmodule.exports = function property(schema, tpl) {\n  if (typeof schema.format === 'undefined') {\n    return;\n  }\n\n  var condition = asExpression(formats[schema.format], schema, tpl);\n  if (!condition) {\n    return;\n  }\n  var error = tpl.error('format');\n\n  tpl('if (' + condition + ') ' + error, tpl.data);\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar properties = __webpack_require__(10);\nvar keywords = __webpack_require__(11);\n\nvar _require = __webpack_require__(0),\n    asExpression = _require.asExpression;\n\nmodule.exports = function property(schema, tpl) {\n  Object.keys(schema).forEach(function (key) {\n    if (keywords.indexOf(key) !== -1 || key === 'format') {\n      return;\n    }\n\n    var condition = asExpression(properties[key], schema, tpl);\n    if (!condition) {\n      return;\n    }\n    var error = tpl.error(key);\n\n    tpl('if (' + condition + ') ' + error, tpl.data, schema[key]);\n  });\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @module properties\n * @description\n * Validators as string for properties keyword rules.\n * A validator is a string, which when executed returns `false` if test is failed, `true` otherwise.\n */\nmodule.exports = {\n  readOnly: 'false',\n  minimum: function minimum(schema) {\n    return '%s <' + (schema.exclusiveMinimum ? '=' : '') + ' ' + schema.minimum;\n  },\n  maximum: function maximum(schema) {\n    return '%s >' + (schema.exclusiveMaximum ? '=' : '') + ' ' + schema.maximum;\n  },\n\n  multipleOf: '($1/$2) % 1 !== 0 && typeof $1 === \"number\"',\n  // When the instance value is a string\n  // this provides a regular expression that a string instance MUST match in order to be valid.\n  pattern: function pattern(schema) {\n    var pattern = void 0;\n    var modifiers = void 0;\n\n    if (typeof schema.pattern === 'string') {\n      pattern = schema.pattern;\n    } else {\n      pattern = schema.pattern[0];\n      modifiers = schema.pattern[1];\n    }\n\n    var regex = new RegExp(pattern, modifiers);\n    return 'typeof ($1) === \"string\" && !' + regex + '.test($1)';\n  },\n\n  /**\n  * Creates an array containing the numeric code points of each Unicode\n  * character in the string. While JavaScript uses UCS-2 internally,\n  * this function will convert a pair of surrogate halves (each of which\n  * UCS-2 exposes as separate characters) into a single code point,\n  * matching UTF-16.\n  * @see `punycode.ucs2.encode`\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode.ucs2\n  * @name decode\n  * @param {String} string The Unicode input string (UCS-2).\n  * @returns {Array} The new array of code points.\n  */\n  minLength: 'typeof $1 === \"string\" && function dltml(b,c){for(var a=0,d=b.length;a<d&&c;){var e=b.charCodeAt(a++);55296<=e&&56319>=e&&a<d&&56320!==(b.charCodeAt(a++)&64512)&&a--;c--}return!!c}($1, $2)',\n  maxLength: 'typeof $1 === \"string\" && function dmtml(b,c){for(var a=0,d=b.length;a<d&&0<=c;){var e=b.charCodeAt(a++);55296<=e&&56319>=e&&a<d&&56320!==(b.charCodeAt(a++)&64512)&&a--;c--}return 0>c}($1, $2)',\n  // This attribute defines the minimum number of values\n  // in an array when the array is the instance value.\n  minItems: '$1.length < $2 && Array.isArray($1)',\n  // This attribute defines the maximum number of values\n  // in an array when the array is the instance value.\n  maxItems: '$1.length > $2 && Array.isArray($1)',\n  // TODO without some\n  uniqueItems: function uniqueItems(schema, fn) {\n    if (!schema.uniqueItems) {\n      return 'true';\n    }\n\n    fn(fn.cache('{}'));\n    return 'Array.isArray($1) && $1.some(function(item, key) {\\n        if(item !== null && typeof item === \"object\") key = JSON.stringify(item);\\n        else key = item;\\n        if(' + fn.cache('{}') + '.hasOwnProperty(key)) return true;\\n        ' + fn.cache('{}') + '[key] = true;\\n    })';\n  },\n\n  // ***** object validation ****\n  minProperties: 'typeof $1 === \"object\" && Object.keys($1).length < $2',\n  // An object instance is valid against \"maxProperties\"\n  // if its number of properties is less than, or equal to, the value of this keyword.\n  maxProperties: 'typeof $1 === \"object\" && Object.keys($1).length > $2',\n  // ****** all *****\n  // TODO\n  constant: function constant(v, p) {\n    return JSON.stringify(v) === JSON.stringify(p);\n  },\n  enum: function _enum(schema, fn) {\n    return schema.enum.map(function (value) {\n      var $1 = '$1';\n      var comparedValue = value;\n\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        comparedValue = '\\'' + JSON.stringify(value) + '\\'';\n        $1 = fn.cache('JSON.stringify($1)');\n      } else if (typeof value === 'string') {\n        comparedValue = '\\'' + value + '\\'';\n      }\n\n      return $1 + ' !== ' + comparedValue;\n    }).join(' && ');\n  }\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * @module keywords\n * @description\n * A list of keywords used in specification.\n */\nmodule.exports = ['type', 'not', 'anyOf', 'allOf', 'oneOf', '$ref', '$schema', 'id', 'exclusiveMaximum', 'exclusiveMininum', 'properties', 'patternProperties', 'additionalProperties', 'items', 'additionalItems', 'required', 'default', 'title', 'description', 'definitions', 'dependencies'];\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar types = __webpack_require__(13);\n\nmodule.exports = function type(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'type')) {\n    return;\n  }\n\n  var error = tpl.error('type');\n  var condition = '(' + [].concat(schema.type).map(function (key) {\n    return types[key];\n  }).join(') && (') + ')';\n\n  tpl('if (' + condition + ') ' + error, tpl.data);\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  null: '%s !== null',\n  string: 'typeof %s !== \"string\"',\n  boolean: 'typeof %s !== \"boolean\"',\n  number: 'typeof %s !== \"number\" || %s !== %s',\n  integer: 'typeof %s !== \"number\" || %s % 1 !== 0',\n  object: '!%s || typeof %s !== \"object\" || Array.isArray(%s)',\n  array: '!Array.isArray(%s)',\n  date: '!(%s instanceof Date)'\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function $ref(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, '$ref')) {\n    return;\n  }\n\n  var condition = tpl.resolve(schema.$ref) + '(%s)';\n  var error = tpl.error('$ref');\n\n  tpl('if (' + condition + ') ' + error, tpl.data);\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function not(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'not')) {\n    return;\n  }\n\n  tpl('if (!' + tpl.resolve(schema.not) + '(%s)) ' + tpl.error('not'), tpl.data);\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function anyOf(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'anyOf')) {\n    return;\n  }\n\n  var condition = schema.anyOf.map(function (reference) {\n    return tpl.resolve(reference) + '(%s)';\n  }).join(' && ');\n  var error = tpl.error('anyOf');\n\n  tpl('if (' + condition + ') ' + error, tpl.data);\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function oneOf(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'oneOf')) {\n    return;\n  }\n\n  var fns = schema.oneOf.map(function (reference) {\n    return tpl.resolve(reference);\n  });\n  var arr = tpl.cache('[' + fns + ']');\n  var cachedArr = tpl.cache('[' + fns + ']');\n  var iterator = tpl.cache(cachedArr + '.length - 1');\n  var cachedIterator = tpl.cache(cachedArr + '.length - 1');\n  var count = tpl.cache('0');\n  var cachedCount = tpl.cache('0');\n\n  tpl('for ($1, $3, $5; $4 >= 0 && $4 < $2.length; $4--) {', arr, cachedArr, iterator, cachedIterator, count)('if(!%s[%s](%s))', cachedArr, cachedIterator, tpl.data)('%s++', cachedCount)('}')('if (%s !== 1)', cachedCount)(tpl.error('oneOf'));\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function allOf(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'allOf')) {\n    return;\n  }\n\n  var condition = schema.allOf.map(function (reference) {\n    return '' + tpl.resolve(reference);\n  }).join('(%s) || ') + '(%s)';\n  var error = tpl.error('allOf');\n\n  tpl('if (' + condition + ') ' + error, tpl.data);\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = function dependencies(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'dependencies')) {\n    return;\n  }\n\n  Object.keys(schema.dependencies).forEach(function (dependency) {\n    tpl('if (%s.hasOwnProperty(\"%s\")) {', tpl.data, dependency);\n    if (Array.isArray(schema.dependencies[dependency]) || typeof schema.dependencies[dependency] === 'string') {\n      [].concat(schema.dependencies[dependency]).forEach(function (property) {\n        tpl('if (!%s.hasOwnProperty(\"%s\"))', tpl.data, property)(tpl.error('dependencies'));\n      });\n    } else if (_typeof(schema.dependencies[dependency]) === 'object') {\n      tpl.visit(schema.dependencies[dependency]);\n    }\n    tpl('}');\n  });\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = function properties(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'properties') || _typeof(schema.properties) !== 'object') {\n    return;\n  }\n\n  Object.keys(schema.properties).forEach(function (propertyKey) {\n    var propertySchema = schema.properties[propertyKey];\n    if (!Object.keys(propertySchema).length) {\n      return;\n    }\n\n    var isNotRequired = !schema.required || schema.required.indexOf(propertyKey) === -1;\n    if (isNotRequired) {\n      tpl('if (%s.hasOwnProperty(\"' + propertyKey + '\")) {', tpl.data);\n    }\n\n    tpl.data.push('[\\'' + propertyKey + '\\']');\n    tpl.visit(propertySchema);\n    tpl.data.pop();\n\n    if (isNotRequired) {\n      tpl('}');\n    }\n  });\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function patternProperties(schema, tpl) {\n  var hasAdditionalProperties = Object.prototype.hasOwnProperty.call(schema, 'additionalProperties') && schema.additionalProperties !== true;\n  var hasPatternProperties = Object.prototype.hasOwnProperty.call(schema, 'patternProperties');\n\n  if (!hasAdditionalProperties && !hasPatternProperties) {\n    return;\n  }\n\n  // When the instance value is an object,\n  // the property values of the instance object\n  // MUST conform to the property definitions in this object.\n  tpl('if(!Array.isArray(%s)) {', tpl.data);\n\n  tpl(tpl.cache('null'));\n  var property = tpl.cache('null');\n  var visitAdditionalProperties = function visitAdditionalProperties() {\n    if (schema.additionalProperties === false) {\n      tpl(tpl.error('additionalProperties'));\n    } else if (schema.additionalProperties) {\n      tpl.data.push('[' + property + ']');\n      tpl.visit(schema.additionalProperties);\n      tpl.data.pop();\n    }\n  };\n\n  tpl('for (%s in %s) {', property, tpl.data);\n  if (hasAdditionalProperties && hasPatternProperties) {\n    tpl(tpl.cache('false'));\n  }\n\n  if (hasPatternProperties) {\n    Object.keys(schema.patternProperties).forEach(function (propertyKey) {\n      var propertySchema = schema.patternProperties[propertyKey];\n\n      tpl('if (%s.test(%s)) {', new RegExp(propertyKey), property);\n      if (hasAdditionalProperties) {\n        tpl(tpl.cache('false') + ' = true;');\n      }\n\n      tpl.data.push('[' + property + ']');\n      tpl.visit(propertySchema);\n      tpl.data.pop();\n      tpl('}');\n\n      if (schema.properties) {\n        tpl('if (' + (hasAdditionalProperties ? tpl.cache('false') + ' || ' : '') + ' %s.properties.hasOwnProperty(' + property + ')) continue;', tpl.schema);\n      } else if (hasAdditionalProperties) {\n        tpl('if (' + tpl.cache('false') + ') continue;');\n      }\n\n      visitAdditionalProperties();\n    });\n  } else {\n    if (schema.properties) {\n      tpl('if(%s.properties.hasOwnProperty(' + property + ')) continue;', tpl.schema);\n    }\n    visitAdditionalProperties();\n  }\n\n  tpl('}}');\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = function items(schema, tpl) {\n  if (!schema.items) {\n    return;\n  }\n\n  tpl('if(Array.isArray(%s)) {', tpl.data);\n  if (Array.isArray(schema.items)) {\n    if (schema.additionalItems === false) {\n      tpl('if (%s.length > %s)', tpl.data, schema.items.length)(tpl.error('additionalItems'));\n    }\n\n    schema.items.forEach(function (subSchema, index) {\n      tpl('if(%s.length > ' + index + ') {', tpl.data);\n      tpl.data.push('[' + index + ']');\n      tpl.visit(subSchema);\n      tpl.data.pop();\n      tpl('}');\n    });\n\n    if (_typeof(schema.additionalItems) === 'object') {\n      tpl('for ($1; $2 < $3.length; $2++) {', tpl.cache(schema.items.length), tpl.cache(schema.items.length), tpl.data);\n      tpl.data.push('[' + tpl.cache(schema.items.length) + ']');\n      tpl.visit(schema.additionalItems);\n      tpl.data.pop();\n      tpl('}');\n    }\n  } else {\n    tpl('for ($1; $2 < $3.length; $2++) {', tpl.cache('0'), tpl.cache('0'), tpl.data);\n    tpl.data.push('[' + tpl.cache('0') + ']');\n    tpl.visit(schema.items);\n    tpl.data.pop();\n    tpl('}');\n  }\n  tpl('}');\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// djv.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b8fb024d57e124e89aa7","/**\n * @module utils\n * @description\n * Contains small utilities for djv project\n */\n\nconst REGEXP_URI = /:\\/\\//;\nconst REGEXP_URI_FRAGMENT = /#\\/?/;\nconst REGEXP_URI_PATH = /(^[^:]+:\\/\\/.*\\/).*/;\n\nfunction cleanId(id) {\n  return (id || '').replace(/#/g, '');\n}\n\nfunction asExpression(fn, schema, tpl) {\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  return fn(schema, tpl);\n}\n\nfunction head(uri) {\n  if (typeof uri !== 'string') {\n    return uri;\n  }\n\n  const parts = uri.split(REGEXP_URI_FRAGMENT);\n  return parts[0];\n}\n\nfunction isFullUri(uri) {\n  return REGEXP_URI.test(uri);\n}\n\n/**\n * @name path\n * @type {function}\n * @description\n * Gets a scheme, domain and a path part from the uri\n * F.e. from http://domain.domain:2020/test/a?test\n * Should pick http://domain.domain:2020/test/\n * @param {string} uri\n * @returns {string} path\n */\nfunction path(uri) {\n  return uri.replace(REGEXP_URI_PATH, '$1');\n}\n\n/**\n * @description\n * Get the fragment (#...) part of the uri\n * @see https://tools.ietf.org/html/rfc3986#section-3\n * @param {string} uri\n * @returns {string} fragment\n */\nfunction fragment(uri) {\n  if (typeof uri !== 'string') {\n    return uri;\n  }\n\n  const parts = uri.split(REGEXP_URI_FRAGMENT);\n  return parts[1];\n}\n\n/**\n * @name makePath\n * @type function\n * @description\n * Concat parts into single uri\n * @see https://tools.ietf.org/html/rfc3986#section-3\n * @param {array[string]} parts\n * @returns {string} uri\n */\nfunction makePath(parts) {\n  return parts\n    .filter(part => typeof part === 'string')\n    .reduce((uri, id) => {\n      if (!uri.length) {\n        return id;\n      }\n\n      // if id is full replace uri\n      if (isFullUri(id)) {\n        return id;\n      }\n\n      // if fragment found\n      if (id.indexOf('#') === 0) {\n        // should replace uri's sharp with id\n        const sharpUriIndex = uri.indexOf('#');\n        return uri.slice(0, sharpUriIndex) + id;\n      }\n\n      // get path part of uri\n      // and replace the rest with id\n      const partialUri = path(uri) + id;\n      return partialUri + (partialUri.indexOf('#') === -1 ? '#' : '');\n    }, '');\n}\n\nfunction hasProperty(object, property) {\n  return typeof object === 'object' && Object.prototype.hasOwnProperty.call(object, property);\n}\n\nfunction normalize(uri) {\n  return decodeURIComponent(uri.replace(/~1/g, '/').replace(/~0/g, '~'));\n}\n\nfunction descent(uri, parentSchema) {\n  let uriFragment = fragment(uri);\n  if (!uriFragment && isFullUri(uri)) {\n    return parentSchema;\n  }\n\n  if (!uriFragment) {\n    uriFragment = uri;\n  }\n\n  const parts = uriFragment.split('/');\n  const currentSchema = parts\n    .map(normalize)\n    .reduce((schema, part) => (\n      schema[part] || (\n        schema.definitions &&\n        schema.definitions[part]\n      ))\n    , parentSchema);\n\n  return currentSchema || parentSchema;\n}\n\nmodule.exports = {\n  cleanId,\n  asExpression,\n  hasProperty,\n  // TODO move to utils/uri\n  makePath,\n  isFullUri,\n  head,\n  fragment,\n  descent,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/index.js","/**\n * @module template\n * @description\n * Defines a small templater functionality for creating functions body.\n */\n\n/**\n * @name template\n * @type function\n * @description\n * Provides a templater function, which adds a line of code into generated function body.\n *\n * @param {object} state - used in visit and reference method to iterate and find schemas.\n * @param {DjvConfig} options\n * @return {function} tpl\n */\nfunction template(state, options) {\n  function tpl(expression, ...args) {\n    let last;\n\n    tpl.lines.push(\n      expression\n        .replace(/%i/g, () => 'i')\n        .replace(/\\$(\\d)/g, (match, index) => `${args[index - 1]}`)\n        .replace(/(%[sd])/g, () => {\n          if (args.length) {\n            last = args.shift();\n          }\n\n          return `${last}`;\n        })\n    );\n\n    return tpl;\n  }\n\n  const error = typeof options.errorHandler === 'function' ?\n    options.errorHandler :\n    function defaultErrorHandler(errorType) {\n      return `return \"${errorType}: ${tpl.data}\";`;\n    };\n\n  Object.assign(tpl, {\n    cachedIndex: 0,\n    cached: [],\n    cache(expression) {\n      const layer = tpl.cached[tpl.cached.length - 1];\n      if (layer[expression]) {\n        return `i${layer[expression]}`;\n      }\n\n      tpl.cachedIndex += 1;\n      layer[expression] = tpl.cachedIndex;\n      return `(i${layer[expression]} = ${expression})`;\n    },\n    data: ['data'],\n    error,\n    lines: [],\n    push: tpl,\n    resolve(url) {\n      return `f${state.link(url)}`;\n    },\n    schema: ['schema'],\n    visit(schema) {\n      tpl.cached.push({});\n      state.visit(schema, tpl);\n      tpl.cached.pop();\n    },\n  });\n\n  function dataToString() {\n    return this.join('.').replace(/\\.\\[/g, '[');\n  }\n  tpl.data.toString = dataToString;\n  tpl.schema.toString = dataToString;\n\n  return tpl;\n}\n\n/**\n * @name restore\n * @type function\n * @description\n * Generate a function by given body with a schema in a closure\n *\n * @param {string} source - function inner & outer body\n * @param {object} schema - passed as argument to meta function\n * @param {DjvConfig} config\n * @return {function} tpl\n */\nfunction restore(source, schema, { inner } = {}) {\n  /* eslint-disable no-new-func */\n  const tpl = new Function('schema', source)(schema);\n  /* eslint-enable no-new-func */\n\n  if (!inner) {\n    tpl.toString = function toString() {\n      return source;\n    };\n  }\n\n  return tpl;\n}\n\n/**\n * @name body\n * @type function\n * @description\n * Generate a function body, containing internal variables and helpers\n *\n * @param {object} tpl - template instance, containing all analyzed schema related data\n * @param {object} state - state of schema generation\n * @param {DjvConfig} config\n * @return {string} body\n */\nfunction body(tpl, state, { inner, errorHandler } = {}) {\n  let dynamicVariables = '';\n  let errors = '';\n  let dynamicFunctions = '';\n\n  if (tpl.cachedIndex) {\n    // @see map array with holes trick\n    // http://2ality.com/2013/11/initializing-arrays.html\n    // TODO change var to const\n    dynamicVariables = `var i${Array(...Array(tpl.cachedIndex))\n      .map((value, i) => i + 1)\n      .join(',i')};`;\n  }\n  if (errorHandler) {\n    /**\n     * @var {array} errors - empty array for pushing errors ability\n     * @see errorHandler\n     */\n    dynamicVariables += 'var errors = [];';\n    errors = 'if(errors.length) return errors;';\n  }\n\n  if (!inner && state.context.length) {\n    const functions = [];\n    const references = [];\n    state.context\n      .forEach((value, i) => {\n        if (typeof value === 'number') {\n          references.push(`${i + 1}=f${value}`);\n          return;\n        }\n        functions.push(`${i + 1}=${value}`);\n      });\n    dynamicFunctions = `var f${functions.concat(references).join(',f')};`;\n  }\n\n  const source = `${dynamicFunctions}\n    function f0(data){\n      \"use strict\";\n      ${dynamicVariables}\n      ${tpl.lines.join('\\n')}\n      ${errors}\n    }\n    return f0;`;\n\n  return source;\n}\n\nmodule.exports = {\n  body,\n  restore,\n  template,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/template.js","/**\n * @module formats\n * @description\n * Validators as string for format keyword rules.\n * A validator is a string, which when executed returns `false` if test is failed, `true` otherwise.\n */\nmodule.exports = {\n  alpha: '!/^[a-zA-Z]+$/.test(%s)',\n  alphanumeric: '!/^[a-zA-Z0-9]+$/.test(%s)',\n  identifier: '!/^[-_a-zA-Z0-9]+$/.test(%s)',\n  hexadecimal: '!/^[a-fA-F0-9]+$/.test(%s)',\n  numeric: '!/^[0-9]+$/.test(%s)',\n  'date-time': 'isNaN(Date.parse(%s)) || ~%s.indexOf(\\'/\\')',\n  uppercase: '%s !== %s.toUpperCase()',\n  lowercase: '%s !== %s.toLowerCase()',\n  hostname: '%s.length >= 256 || !/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,61}[a-zA-Z0-9])(\\\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,61}[a-zA-Z0-9]))*$/.test(%s)',\n  uri: '!/[-a-zA-Z0-9@:%_\\\\+.~#?&//=]{2,256}\\\\.[a-z]{2,4}\\\\b(\\\\/[-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)?/.test(%s)',\n  email: '!/^[^@]+@[^@]+\\\\.[^@]+$/.test(%s)',\n  ipv4: '!/^(\\\\d?\\\\d?\\\\d){0,255}\\\\.(\\\\d?\\\\d?\\\\d){0,255}\\\\.(\\\\d?\\\\d?\\\\d){0,255}\\\\.(\\\\d?\\\\d?\\\\d){0,255}$/.test($1) || $1.split(\".\")[3] > 255',\n  ipv6: '!/^((?=.*::)(?!.*::.+::)(::)?([\\\\dA-F]{1,4}:(:|\\\\b)|){5}|([\\\\dA-F]{1,4}:){6})((([\\\\dA-F]{1,4}((?!\\\\3)::|:\\\\b|$))|(?!\\\\2\\\\3)){2}|(((2[0-4]|1\\\\d|[1-9])?\\\\d|25[0-5])\\\\.?\\\\b){4})$/.test(%s)'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/formats.js","const { cleanId } = require('./utils');\nconst { restore } = require('./utils/template');\nconst formats = require('./utils/formats');\nconst { generate, State } = require('./utils/state');\n\n/**\n * Configuration for template\n * @typedef {object} DjvConfig\n * @property {boolean?} inner - a generating object should be considered as inner\n * Default value is false/undefined.\n * If true, then it avoid creating variables in a generated function body,\n * however without proper wrapper function approach will not work.\n * @see template/body, template/body\n * @property {object?} formats - an object containing list of formatters to add for environment\n * @property {function?} errorHandler - a handler to use for generating custom error messages\n */\n\n/**\n * @name Environment\n * @description\n * Key constructor used for creating enivornment instance\n * @type {function} constructor\n * @param {DjvConfig} options passed to templater and utilities\n *\n * Usage\n *\n * ```javascript\n * const env = djv();\n * const env = new djv();\n * const env = new djv({ errorHandler: () => ';' });\n * ```\n */\nfunction Environment(options = {}) {\n  if (!(this instanceof Environment)) { return new Environment(options); }\n\n  this.options = options;\n  this.resolved = {};\n  this.state = new State(null, this);\n\n  this.addFormat(options.formats);\n}\n\nEnvironment.prototype = {\n  /**\n   * check if object correspond to schema\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.validate('test#/common', { type: 'common' });\n   * // => undefined\n   *\n   * env.validate('test#/common', { type: 'custom' });\n   * // => 'required: data'\n   *\n   * @param {string} name\n   * @param {object} object\n   * @returns {string} error - undefined if it is valid\n   */\n  validate(name, object) {\n    return this.resolve(name).fn(object);\n  },\n\n  /**\n   * add schema to djv environment\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.addSchema('test', jsonSchema);\n   * ```\n   *\n   * @param {string?} name\n   * @param {object} schema\n   * @param {object} schema\n   * @returns {resolved}\n   */\n  addSchema(name, schema) {\n    const realSchema = typeof name === 'object' ? name : schema;\n    const resolved = {\n      schema: realSchema,\n      fn: generate(this, realSchema, undefined, this.options),\n    };\n\n    [name, schema.id]\n      .filter(id => typeof id === 'string')\n      .map(cleanId)\n      .forEach((id) => {\n        this.resolved[id] = Object.assign({ name: id }, resolved);\n      });\n\n    return resolved;\n  },\n\n  /**\n   * removes a schema or the whole structure from djv environment\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.removeSchema('test');\n   * ```\n   *\n   * @param {string} name\n   */\n  removeSchema(name) {\n    if (name) {\n      delete this.resolved[name];\n    } else {\n      this.resolved = {};\n    }\n  },\n\n  /**\n   * resolves name by existing environment\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.resolve('test');\n   * // => { name: 'test', schema: {} }, fn: ... }\n   * ```\n   *\n   * @param {string} name\n   * @returns {resolved}\n   */\n  resolve(name) {\n    if (typeof name === 'object' || !this.resolved[name]) {\n      return this.addSchema(\n        name,\n        this.state.resolve(name)\n      );\n    }\n\n    return this.resolved[name];\n  },\n\n  /**\n   * exports the whole structure object from environment or by resolved name\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.export();\n   * // => { test: { name: 'test', schema: {}, ... } }\n   * ```\n   *\n   * @param {string} name\n   * @returns {serializedInternalState}\n   */\n  export(name) {\n    let resolved;\n    if (name) {\n      resolved = this.resolve(name);\n      resolved = {\n        name,\n        schema: resolved.schema,\n        fn: resolved.fn.toString()\n      };\n    } else {\n      resolved = {};\n      Object.keys(this.resolved).forEach((key) => {\n        resolved[key] = {\n          name: key,\n          schema: this.resolved[key].schema,\n          fn: this.resolved[key].fn.toString()\n        };\n      });\n    }\n\n    return JSON.stringify(resolved);\n  },\n\n  /**\n   * imports all found structure objects to internal environment structure\n   * Usage\n   *\n   * ```javascript\n   * env.import(config);\n   * ```\n   *\n   * @param {object} config - internal structure or only resolved schema object\n   */\n  import(config) {\n    const item = JSON.parse(config);\n    let restoreData = item;\n    if (item.name && item.fn && item.schema) {\n      restoreData = { [item.name]: item };\n    }\n\n    Object.keys(restoreData).forEach((key) => {\n      const { name, schema, fn: source } = restoreData[key];\n      const fn = restore(source, schema, this.options);\n      this.resolved[name] = { name, schema, fn };\n    });\n  },\n\n  /**\n   * @name addFormat\n   * @type function\n   * @description\n   * Add formatter to djv environment.\n   * When a string is passed it is interpreted as an expression which\n   * when returns `true` goes with an error, when returns `false` then a property is valid.\n   * When a function is passed it will be executed during schema compilation\n   * with a current schema and template helper arguments.\n   * @see utils/formats\n   *\n   * Usage\n   *\n   * ```javascript\n   * env.addFormat('UpperCase', '%s !== %s.toUpperCase()');\n   * // or\n   * env.addFormat('isOk', function(schema, tpl){\n   *   return `!${schema.isOk} || %s !== %s.toUpperCase()`;\n   * });\n   * ```\n   *\n   * @param {string/object?} name\n   * @param {string/function} formatter\n   */\n  addFormat(name, formatter) {\n    if (typeof name === 'string') {\n      formats[name] = formatter;\n      return;\n    }\n\n    if (typeof name === 'object') {\n      Object.assign(formats, name);\n    }\n  },\n\n  /**\n   * @name setErrorHandler\n   * @type function\n   * @description\n   * Specify custom error handler which will be used in generated functions when problem found.\n   * The function should return a string expression, which will be executed when generated\n   * validator function is executed. The simpliest use case is the default one\n   * @see template/defaultErrorHandler\n   * ```javascript\n   *  function defaultErrorHandler(errorType) {\n   *    return `return \"${errorType}: ${tpl.data}\";`;\n   *  }\n   * ```\n   * It returns an expression 'return ...', so the output is an error string.\n   * Usage\n   * ```javascript\n   * djv({ errorHandler: () => 'return { error: true };' }) // => returns an object\n   * djv({\n   *  errorHandler: function customErrorHandler(errorType, property) {\n   *    return `errors.push({\n   *      type: '${type}',\n   *      schema: '${this.schema[this.schema.length - 1]}',\n   *      data: '${this.data[this.data.length - 1]}'\n   *    });\n   *  }\n   * })`;\n   * ```\n   * When a custom error handler is used, the template body function adds a `error` variable inside\n   * a generated validator, which can be used to put error information. `errorType` is always\n   * passed to error handler function. Some validate utilities put extra argument, like f.e.\n   * currently processed property value. Inside the handler context is a templater instance,\n   * which contains `this.schema`, `this.data` paths arrays to identify validator position.\n   * @see test/index/setErrorHandler for more examples\n   * @param {function} errorHandler - a function called each time compiler creates an error branch\n   */\n  setErrorHandler(errorHandler) {\n    Object.assign(this.options, { errorHandler });\n  }\n};\n\nmodule.exports = Environment;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/djv.js","const { list: validators } = require('../validators');\nconst { body, restore, template } = require('./template');\nconst { descent, makePath, head, isFullUri, hasProperty, cleanId } = require('./');\n\nfunction State(schema = {}, env) {\n  Object.assign(this, {\n    resolution: [0],\n    context: [],\n    entries: new Map(),\n    env,\n  });\n\n  this.push(schema);\n}\n\nfunction generate(env, schema, state = new State(schema, env), options) {\n  const tpl = template(state, options);\n  tpl.visit(schema);\n\n  const source = body(tpl, state, options);\n  return restore(source, schema, options);\n}\n\nState.prototype = Object.assign(Object.create(Array.prototype), {\n  // template related methods\n  addEntry(url, schema) {\n    if (typeof schema !== 'object') {\n      return schema;\n    }\n\n    const options = { inner: true };\n    const entry = this.entries.get(schema) || generate(this.env, schema, this, options);\n    this.entries.set(schema, entry);\n    this.revealReference(url);\n\n    return this.context.push(entry);\n  },\n  addReference(url, schema) {\n    const schemaIndex = this.indexOf(schema);\n    // reference to itself\n    if (schemaIndex === 0) {\n      return this.context.push(0);\n    }\n    if (schemaIndex !== -1 && schemaIndex !== this.length - 1) {\n      // has already been added to process queue\n      return this.context.push(url);\n    }\n    return false;\n  },\n  revealReference(url) {\n    for (\n      let doubled = this.context.indexOf(url);\n      doubled !== -1;\n      doubled = this.context.indexOf(url)\n    ) {\n      this.context[doubled] = this.context.length;\n    }\n  },\n  link(url) {\n    const schema = this.resolve(url);\n    const entry = this.addReference(url, schema) || this.addEntry(url, schema);\n\n    return entry;\n  },\n  // pure scope resolution methods\n  push(schema) {\n    // if schema id is partial\n    // it should be resolved against the closest parent(s)\n    // so only valid URIs added to resolution\n    if (schema && schema.id && this.length && isFullUri(schema.id)) {\n      this.resolution.push(this.length);\n    }\n\n    Array.prototype.push.call(this, schema);\n  },\n  getResolvedSchema(path) {\n    if (hasProperty(this.env.resolved, path)) {\n      return this.env.resolved[path].schema;\n    }\n\n    const cleanPath = cleanId(path);\n    if (hasProperty(this.env.resolved, cleanPath)) {\n      return this.env.resolved[cleanPath].schema;\n    }\n\n    if (cleanPath) {\n      const foundResolvedIndex = this.resolution\n        .reverse()\n        .find(index => this[index].id && (\n          this[index].id === cleanPath ||\n          this[index].id === path\n        ));\n\n      if (typeof foundResolvedIndex !== 'undefined') {\n        return this[foundResolvedIndex];\n      }\n    }\n\n    return null;\n  },\n  /**\n   * @name ascend\n   * @type {function}\n   * @description\n   * Search for a parent schema by reference.\n   * Iterates over the chain of schemas.\n   * @param {string} reference\n   * @returns {object} parentSchema\n   */\n  ascend(reference) {\n    const indexOfParent = Math.max(this.resolution[this.resolution.length - 1], 1);\n\n    let parentSchemaPath = head(reference);\n    let parentSchema = this[indexOfParent];\n\n    if (parentSchemaPath && this.length > 1 && !isFullUri(reference)) {\n      parentSchemaPath = makePath(\n        this.slice(indexOfParent)\n          .map(({ id }) => id)\n          .concat(parentSchemaPath)\n      );\n    }\n\n    const resolvedSchema = this.getResolvedSchema(parentSchemaPath);\n    if (!parentSchema || resolvedSchema) {\n      parentSchema = resolvedSchema;\n    }\n\n    // try to resolve it against environment\n    if (hasProperty(parentSchema, '$ref')) {\n      const ref = head(parentSchema.$ref);\n      if (ref !== '#' && this.getResolvedSchema(ref)) {\n        parentSchema = this.getResolvedSchema(ref);\n      }\n    }\n\n    this.push(parentSchema);\n    return parentSchema;\n  },\n  resolve(reference) {\n    if (reference === '#') {\n      return 0;\n    }\n    if (typeof reference !== 'string') {\n      return reference;\n    }\n\n    const parent = this.ascend(reference);\n    const resolved = descent(reference, parent);\n\n    return resolved;\n  },\n  visit(schema, tpl) {\n    const initialStateLength = this.length;\n    const initialResolutionLength = this.resolution.length;\n    this.push(schema);\n\n    validators.forEach(validator => validator(schema, tpl));\n\n    this.length = initialStateLength;\n    this.resolution.length = initialResolutionLength;\n  },\n});\n\nmodule.exports = {\n  State,\n  generate,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/state.js","/**\n * @module validators\n * @description\n * Contains validators functions links\n * Provides an information about the order in which validators should be applied\n */\nconst required = require('./required');\nconst format = require('./format');\nconst property = require('./property');\nconst type = require('./type');\nconst $ref = require('./$ref');\nconst not = require('./not');\nconst anyOf = require('./anyOf');\nconst oneOf = require('./oneOf');\nconst allOf = require('./allOf');\nconst dependencies = require('./dependencies');\nconst properties = require('./properties');\nconst patternProperties = require('./patternProperties');\nconst items = require('./items');\n\nmodule.exports = {\n  name: {\n    required,\n    format,\n    property,\n    type,\n    $ref,\n    not,\n    anyOf,\n    oneOf,\n    allOf,\n    dependencies,\n    properties,\n    patternProperties,\n    items\n  },\n  list: [\n    required,\n    format,\n    property,\n    type,\n    $ref,\n    not,\n    anyOf,\n    oneOf,\n    allOf,\n    dependencies,\n    properties,\n    patternProperties,\n    items\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/index.js","module.exports = function required(schema, tpl) {\n  if (!Array.isArray(schema.required)) {\n    return;\n  }\n\n  tpl('if (typeof %s === \\'object\\') {', tpl.data);\n  schema.required.forEach((name) => {\n    const condition = '!%s.hasOwnProperty(\"%s\")';\n    const error = tpl.error('required', name);\n\n    tpl(`if (${condition}) ${error}`, tpl.data, name);\n  });\n  tpl('}');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/required.js","const formats = require('../utils/formats');\nconst { asExpression } = require('../utils');\n\nmodule.exports = function property(schema, tpl) {\n  if (typeof schema.format === 'undefined') {\n    return;\n  }\n\n  const condition = asExpression(formats[schema.format], schema, tpl);\n  if (!condition) {\n    return;\n  }\n  const error = tpl.error('format');\n\n  tpl(`if (${condition}) ${error}`, tpl.data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/format.js","const properties = require('../utils/properties');\nconst keywords = require('../utils/keywords');\nconst { asExpression } = require('../utils');\n\nmodule.exports = function property(schema, tpl) {\n  Object.keys(schema)\n    .forEach((key) => {\n      if (keywords.indexOf(key) !== -1 || key === 'format') {\n        return;\n      }\n\n      const condition = asExpression(properties[key], schema, tpl);\n      if (!condition) {\n        return;\n      }\n      const error = tpl.error(key);\n\n      tpl(`if (${condition}) ${error}`, tpl.data, schema[key]);\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/property.js","/**\n * @module properties\n * @description\n * Validators as string for properties keyword rules.\n * A validator is a string, which when executed returns `false` if test is failed, `true` otherwise.\n */\nmodule.exports = {\n  readOnly: 'false',\n  minimum(schema) {\n    return `%s <${schema.exclusiveMinimum ? '=' : ''} ${schema.minimum}`;\n  },\n  maximum(schema) {\n    return `%s >${schema.exclusiveMaximum ? '=' : ''} ${schema.maximum}`;\n  },\n  multipleOf: '($1/$2) % 1 !== 0 && typeof $1 === \"number\"',\n  // When the instance value is a string\n  // this provides a regular expression that a string instance MUST match in order to be valid.\n  pattern(schema) {\n    let pattern;\n    let modifiers;\n\n    if (typeof schema.pattern === 'string') { pattern = schema.pattern; } else {\n      pattern = schema.pattern[0];\n      modifiers = schema.pattern[1];\n    }\n\n    const regex = new RegExp(pattern, modifiers);\n    return `typeof ($1) === \"string\" && !${regex}.test($1)`;\n  },\n  /**\n  * Creates an array containing the numeric code points of each Unicode\n  * character in the string. While JavaScript uses UCS-2 internally,\n  * this function will convert a pair of surrogate halves (each of which\n  * UCS-2 exposes as separate characters) into a single code point,\n  * matching UTF-16.\n  * @see `punycode.ucs2.encode`\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode.ucs2\n  * @name decode\n  * @param {String} string The Unicode input string (UCS-2).\n  * @returns {Array} The new array of code points.\n  */\n  minLength: 'typeof $1 === \"string\" && function dltml(b,c){for(var a=0,d=b.length;a<d&&c;){var e=b.charCodeAt(a++);55296<=e&&56319>=e&&a<d&&56320!==(b.charCodeAt(a++)&64512)&&a--;c--}return!!c}($1, $2)',\n  maxLength: 'typeof $1 === \"string\" && function dmtml(b,c){for(var a=0,d=b.length;a<d&&0<=c;){var e=b.charCodeAt(a++);55296<=e&&56319>=e&&a<d&&56320!==(b.charCodeAt(a++)&64512)&&a--;c--}return 0>c}($1, $2)',\n  // This attribute defines the minimum number of values\n  // in an array when the array is the instance value.\n  minItems: '$1.length < $2 && Array.isArray($1)',\n  // This attribute defines the maximum number of values\n  // in an array when the array is the instance value.\n  maxItems: '$1.length > $2 && Array.isArray($1)',\n  // TODO without some\n  uniqueItems(schema, fn) {\n    if (!schema.uniqueItems) {\n      return 'true';\n    }\n\n    fn(fn.cache('{}'));\n    return `Array.isArray($1) && $1.some(function(item, key) {\n        if(item !== null && typeof item === \"object\") key = JSON.stringify(item);\n        else key = item;\n        if(${fn.cache('{}')}.hasOwnProperty(key)) return true;\n        ${fn.cache('{}')}[key] = true;\n    })`;\n  },\n  // ***** object validation ****\n  minProperties: 'typeof $1 === \"object\" && Object.keys($1).length < $2',\n  // An object instance is valid against \"maxProperties\"\n  // if its number of properties is less than, or equal to, the value of this keyword.\n  maxProperties: 'typeof $1 === \"object\" && Object.keys($1).length > $2',\n  // ****** all *****\n  // TODO\n  constant(v, p) {\n    return JSON.stringify(v) === JSON.stringify(p);\n  },\n  enum(schema, fn) {\n    return schema.enum.map((value) => {\n      let $1 = '$1';\n      let comparedValue = value;\n\n      if (typeof value === 'object') {\n        comparedValue = `'${JSON.stringify(value)}'`;\n        $1 = fn.cache('JSON.stringify($1)');\n      } else if (typeof value === 'string') {\n        comparedValue = `'${value}'`;\n      }\n\n      return `${$1} !== ${comparedValue}`;\n    }).join(' && ');\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/properties.js","/**\n * @module keywords\n * @description\n * A list of keywords used in specification.\n */\nmodule.exports = [\n  'type',\n  'not',\n  'anyOf',\n  'allOf',\n  'oneOf',\n  '$ref',\n  '$schema',\n  'id',\n  'exclusiveMaximum',\n  'exclusiveMininum',\n  'properties',\n  'patternProperties',\n  'additionalProperties',\n  'items',\n  'additionalItems',\n  'required',\n  'default',\n  'title',\n  'description',\n  'definitions',\n  'dependencies'\n];\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/keywords.js","const types = require('../utils/types');\n\nmodule.exports = function type(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'type')) {\n    return;\n  }\n\n  const error = tpl.error('type');\n  const condition = `(${[].concat(schema.type).map(key => types[key]).join(') && (')})`;\n\n  tpl(`if (${condition}) ${error}`, tpl.data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/type.js","module.exports = {\n  null: '%s !== null',\n  string: 'typeof %s !== \"string\"',\n  boolean: 'typeof %s !== \"boolean\"',\n  number: 'typeof %s !== \"number\" || %s !== %s',\n  integer: 'typeof %s !== \"number\" || %s % 1 !== 0',\n  object: '!%s || typeof %s !== \"object\" || Array.isArray(%s)',\n  array: '!Array.isArray(%s)',\n  date: '!(%s instanceof Date)'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/types.js","module.exports = function $ref(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, '$ref')) {\n    return;\n  }\n\n  const condition = `${tpl.resolve(schema.$ref)}(%s)`;\n  const error = tpl.error('$ref');\n\n  tpl(`if (${condition}) ${error}`, tpl.data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/$ref.js","module.exports = function not(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'not')) {\n    return;\n  }\n\n  tpl(`if (!${tpl.resolve(schema.not)}(%s)) ${tpl.error('not')}`, tpl.data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/not.js","module.exports = function anyOf(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'anyOf')) {\n    return;\n  }\n\n  const condition = schema.anyOf.map(reference => `${tpl.resolve(reference)}(%s)`).join(' && ');\n  const error = tpl.error('anyOf');\n\n  tpl(`if (${condition}) ${error}`, tpl.data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/anyOf.js","module.exports = function oneOf(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'oneOf')) {\n    return;\n  }\n\n  const fns = schema.oneOf.map(reference => tpl.resolve(reference));\n  const arr = tpl.cache(`[${fns}]`);\n  const cachedArr = tpl.cache(`[${fns}]`);\n  const iterator = tpl.cache(`${cachedArr}.length - 1`);\n  const cachedIterator = tpl.cache(`${cachedArr}.length - 1`);\n  const count = tpl.cache('0');\n  const cachedCount = tpl.cache('0');\n\n  tpl(\n    'for ($1, $3, $5; $4 >= 0 && $4 < $2.length; $4--) {',\n    arr,\n    cachedArr,\n    iterator,\n    cachedIterator,\n    count\n  )('if(!%s[%s](%s))', cachedArr, cachedIterator, tpl.data)('%s++', cachedCount)('}')('if (%s !== 1)', cachedCount)(tpl.error('oneOf'));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/oneOf.js","module.exports = function allOf(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'allOf')) {\n    return;\n  }\n\n  const condition = `${schema.allOf.map(reference => `${tpl.resolve(reference)}`).join('(%s) || ')}(%s)`;\n  const error = tpl.error('allOf');\n\n  tpl(`if (${condition}) ${error}`, tpl.data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/allOf.js","module.exports = function dependencies(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'dependencies')) {\n    return;\n  }\n\n  Object.keys(schema.dependencies)\n    .forEach((dependency) => {\n      tpl('if (%s.hasOwnProperty(\"%s\")) {', tpl.data, dependency);\n      if (Array.isArray(schema.dependencies[dependency]) || typeof schema.dependencies[dependency] === 'string') {\n        [].concat(schema.dependencies[dependency]).forEach((property) => {\n          tpl('if (!%s.hasOwnProperty(\"%s\"))', tpl.data, property)(tpl.error('dependencies'));\n        });\n      } else if (typeof schema.dependencies[dependency] === 'object') {\n        tpl.visit(schema.dependencies[dependency]);\n      }\n      tpl('}');\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/dependencies.js","module.exports = function properties(schema, tpl) {\n  if (!Object.prototype.hasOwnProperty.call(schema, 'properties') || typeof schema.properties !== 'object') {\n    return;\n  }\n\n  Object.keys(schema.properties)\n    .forEach((propertyKey) => {\n      const propertySchema = schema.properties[propertyKey];\n      if (!Object.keys(propertySchema).length) {\n        return;\n      }\n\n      const isNotRequired = !schema.required || schema.required.indexOf(propertyKey) === -1;\n      if (isNotRequired) {\n        tpl(`if (%s.hasOwnProperty(\"${propertyKey}\")) {`, tpl.data);\n      }\n\n      tpl.data.push(`['${propertyKey}']`);\n      tpl.visit(propertySchema);\n      tpl.data.pop();\n\n      if (isNotRequired) {\n        tpl('}');\n      }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/properties.js","module.exports = function patternProperties(schema, tpl) {\n  const hasAdditionalProperties = Object.prototype.hasOwnProperty.call(schema, 'additionalProperties') && schema.additionalProperties !== true;\n  const hasPatternProperties = Object.prototype.hasOwnProperty.call(schema, 'patternProperties');\n\n  if (!hasAdditionalProperties && !hasPatternProperties) {\n    return;\n  }\n\n  // When the instance value is an object,\n  // the property values of the instance object\n  // MUST conform to the property definitions in this object.\n  tpl('if(!Array.isArray(%s)) {', tpl.data);\n\n  tpl(tpl.cache('null'));\n  const property = tpl.cache('null');\n  const visitAdditionalProperties = () => {\n    if (schema.additionalProperties === false) {\n      tpl(tpl.error('additionalProperties'));\n    } else if (schema.additionalProperties) {\n      tpl.data.push(`[${property}]`);\n      tpl.visit(schema.additionalProperties);\n      tpl.data.pop();\n    }\n  };\n\n  tpl('for (%s in %s) {', property, tpl.data);\n  if (hasAdditionalProperties && hasPatternProperties) {\n    tpl(tpl.cache('false'));\n  }\n\n  if (hasPatternProperties) {\n    Object.keys(schema.patternProperties)\n      .forEach((propertyKey) => {\n        const propertySchema = schema.patternProperties[propertyKey];\n\n        tpl('if (%s.test(%s)) {', new RegExp(propertyKey), property);\n        if (hasAdditionalProperties) {\n          tpl(`${tpl.cache('false')} = true;`);\n        }\n\n        tpl.data.push(`[${property}]`);\n        tpl.visit(propertySchema);\n        tpl.data.pop();\n        tpl('}');\n\n        if (schema.properties) {\n          tpl(`if (${hasAdditionalProperties ? `${tpl.cache('false')} || ` : ''} %s.properties.hasOwnProperty(${property})) continue;`, tpl.schema);\n        } else if (hasAdditionalProperties) {\n          tpl(`if (${tpl.cache('false')}) continue;`);\n        }\n\n        visitAdditionalProperties();\n      });\n  } else {\n    if (schema.properties) {\n      tpl(`if(%s.properties.hasOwnProperty(${property})) continue;`, tpl.schema);\n    }\n    visitAdditionalProperties();\n  }\n\n  tpl('}}');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/patternProperties.js","module.exports = function items(schema, tpl) {\n  if (!schema.items) {\n    return;\n  }\n\n  tpl('if(Array.isArray(%s)) {', tpl.data);\n  if (Array.isArray(schema.items)) {\n    if (schema.additionalItems === false) {\n      tpl('if (%s.length > %s)', tpl.data, schema.items.length)(tpl.error('additionalItems'));\n    }\n\n    schema.items.forEach((subSchema, index) => {\n      tpl(`if(%s.length > ${index}) {`, tpl.data);\n      tpl.data.push(`[${index}]`);\n      tpl.visit(subSchema);\n      tpl.data.pop();\n      tpl('}');\n    });\n\n    if (typeof schema.additionalItems === 'object') {\n      tpl('for ($1; $2 < $3.length; $2++) {', tpl.cache(schema.items.length), tpl.cache(schema.items.length), tpl.data);\n      tpl.data.push(`[${tpl.cache(schema.items.length)}]`);\n      tpl.visit(schema.additionalItems);\n      tpl.data.pop();\n      tpl('}');\n    }\n  } else {\n    tpl('for ($1; $2 < $3.length; $2++) {', tpl.cache('0'), tpl.cache('0'), tpl.data);\n    tpl.data.push(`[${tpl.cache('0')}]`);\n    tpl.visit(schema.items);\n    tpl.data.pop();\n    tpl('}');\n  }\n  tpl('}');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/validators/items.js"],"sourceRoot":""}